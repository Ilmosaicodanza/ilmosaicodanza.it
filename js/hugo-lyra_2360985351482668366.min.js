"use strict";(()=>{var pe=Object.create,v=Object.defineProperty,dt=Object.getOwnPropertyDescriptor,it=Object.getOwnPropertyNames,Je=Object.getPrototypeOf,Re=Object.prototype.hasOwnProperty,N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ce=(e,t)=>{for(var n in t)v(e,n,{get:t[n],enumerable:!0})},xe=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of it(t))!Re.call(e,o)&&o!==n&&v(e,o,{get:()=>t[o],enumerable:!(s=dt(t,o))||s.enumerable});return e},Oe=(e,t,n)=>(n=e!=null?pe(Je(e)):{},xe(t||!e||!e.__esModule?v(n,"default",{value:e,enumerable:!0}):n,e)),j=N((e,t)=>{(function(n,s){typeof e=="object"&&typeof t<"u"?t.exports=s():typeof define=="function"&&define.amd?define(s):(n=typeof globalThis<"u"?globalThis:n||self,n.DOMPurify=s())})(e,function(){"use strict";function r(e){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(){return L()?f=Reflect.construct:f=function(e,t,n){s=[null],s.push.apply(s,t);var s,i=Function.bind.apply(e,s),o=new i;return n&&_(o,n.prototype),o},f.apply(null,arguments)}function i(e){return N(e)||K(e)||P(e)||H()}function N(e){if(Array.isArray(e))return b(e)}function K(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P(e,t){if(e){if(typeof e=="string")return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}function b(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=Object.hasOwnProperty,x=Object.setPrototypeOf,D=Object.isFrozen,ie=Object.getPrototypeOf,W=Object.getOwnPropertyDescriptor,n=Object.freeze,o=Object.seal,ae=Object.create,F=typeof Reflect<"u"&&Reflect,m=F.apply,y=F.construct;m||(m=function(e,t,n){return e.apply(t,n)}),n||(n=function(e){return e}),o||(o=function(e){return e}),y||(y=function(e,t){return f(e,i(t))});var q=s(Array.prototype.forEach),S=s(Array.prototype.pop),l=s(Array.prototype.push),h=s(String.prototype.toLowerCase),g=s(String.prototype.toString),U=s(String.prototype.match),a=s(String.prototype.replace),$=s(String.prototype.indexOf),B=s(String.prototype.trim),t=s(RegExp.prototype.test),p=R(TypeError);function s(e){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return m(e,t,o)}}function R(e){return function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];return y(e,s)}}function e(e,t,n){n=n||h,x&&x(e,null);for(var s,o,i=t.length;i--;)s=t[i],typeof s=="string"&&(o=n(s),o!==s&&(D(t)||(t[i]=o),s=o)),e[s]=!0;return e}function c(e){var t,n=ae(null);for(t in e)m(z,e,[t])===!0&&(n[t]=e[t]);return n}function u(e,t){for(;e!==null;){var n=W(e,t);if(n){if(n.get)return s(n.get);if(typeof n.value=="function")return s(n.value)}e=ie(e)}function o(e){return console.warn("fallback value for",e),null}return o}var T,C=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),v=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),j=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),w=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),A=n(["#text"]),k=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),d=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=o(/<%[\w\W]*|[\w\W]*%>/gm),X=o(/\${[\w\W]*}/gm),Q=o(/^data-[-\w.\u00B7-\uFFFF]/),Z=o(/^aria-[-\w]+$/),J=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),ee=o(/^(?:\w+script|data):/i),te=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=o(/^html$/i),se=function(){return typeof window>"u"?null:window},oe=function(e,t){if(r(e)!=="object"||typeof e.createPolicy!="function")return null;var s,n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o)),s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function M(){if(o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se(),s=function(e){return M(e)},s.version="2.4.3",s.removed=[],!o||!o.document||o.document.nodeType!==9)return s.isSupported=!1,s;var _e=o.document,z=o.document,at=o.DocumentFragment,Mt=o.HTMLTemplateElement,ke=o.Node,et=o.Element,Se=o.NodeFilter,qe=o.NamedNodeMap,St=qe===void 0?o.NamedNodeMap||o.MozNamedAttrMap:qe,At=o.HTMLFormElement,kt=o.DOMParser,fe=o.trustedTypes,me=et.prototype,Et=u(me,"cloneNode"),Ct=u(me,"nextSibling"),Ot=u(me,"childNodes"),Pe=u(me,"parentNode");typeof Mt=="function"&&(le=z.createElement("template"),le.content&&le.content.ownerDocument&&(z=le.content.ownerDocument));var x=oe(fe,_e),Ne=x?x.createHTML(""):"",de=z,De=de.implementation,wt=de.createNodeIterator,lt=de.createDocumentFragment,_t=de.getElementsByTagName,yt=_e.importNode,st={};try{st=c(z).documentMode?z.documentMode:{}}catch{}_={},s.isSupported=typeof Pe=="function"&&De&&typeof De.createHTMLDocument<"u"&&st!==9;var s,o,b,_,D,le,xe=Y,Oe=G,ye=X,bt=Q,vt=Z,pt=ee,it=te,je=J,f=null,ot=e({},[].concat(i(C),i(v),i(j),i(w),i(A))),y=null,tt=e({},[].concat(i(k),i(O),i(E),i(d))),m=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,Me=null,Qe=!0,Te=!0,We=!1,W=!1,N=!1,Le=!1,Re=!1,K=!1,ue=!1,pe=!1,Be=!0,Ve=!1,ft="user-content-",ze=!0,ce=!1,P={},H=null,Ye=e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Ie=e({},["audio","video","img","source","image","track"]),Fe=null,Ze=e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",F="http://www.w3.org/1999/xhtml",L=F,Ee=!1,Ce=null,mt=e({},[ge,ve,F],g),ht=["application/xhtml+xml","text/html"],dt="text/html",ie=null,ut=z.createElement("form"),rt=function(e){return e instanceof RegExp||e instanceof Function},we=function(t){ie&&ie===t||((!t||r(t)!=="object")&&(t={}),t=c(t),D=ht.indexOf(t.PARSER_MEDIA_TYPE)===-1?D=dt:D=t.PARSER_MEDIA_TYPE,b=D==="application/xhtml+xml"?g:h,f="ALLOWED_TAGS"in t?e({},t.ALLOWED_TAGS,b):ot,y="ALLOWED_ATTR"in t?e({},t.ALLOWED_ATTR,b):tt,Ce="ALLOWED_NAMESPACES"in t?e({},t.ALLOWED_NAMESPACES,g):mt,Fe="ADD_URI_SAFE_ATTR"in t?e(c(Ze),t.ADD_URI_SAFE_ATTR,b):Ze,Ge="ADD_DATA_URI_TAGS"in t?e(c(Ie),t.ADD_DATA_URI_TAGS,b):Ie,H="FORBID_CONTENTS"in t?e({},t.FORBID_CONTENTS,b):Ye,ae="FORBID_TAGS"in t?e({},t.FORBID_TAGS,b):{},Me="FORBID_ATTR"in t?e({},t.FORBID_ATTR,b):{},P="USE_PROFILES"in t&&t.USE_PROFILES,Qe=t.ALLOW_ARIA_ATTR!==!1,Te=t.ALLOW_DATA_ATTR!==!1,We=t.ALLOW_UNKNOWN_PROTOCOLS||!1,W=t.SAFE_FOR_TEMPLATES||!1,N=t.WHOLE_DOCUMENT||!1,K=t.RETURN_DOM||!1,ue=t.RETURN_DOM_FRAGMENT||!1,pe=t.RETURN_TRUSTED_TYPE||!1,Re=t.FORCE_BODY||!1,Be=t.SANITIZE_DOM!==!1,Ve=t.SANITIZE_NAMED_PROPS||!1,ze=t.KEEP_CONTENT!==!1,ce=t.IN_PLACE||!1,je=t.ALLOWED_URI_REGEXP||je,L=t.NAMESPACE||F,t.CUSTOM_ELEMENT_HANDLING&&rt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(m.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&rt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(m.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(m.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(Te=!1),ue&&(K=!0),P&&(f=e({},i(A)),y=[],P.html===!0&&(e(f,C),e(y,k)),P.svg===!0&&(e(f,v),e(y,O),e(y,d)),P.svgFilters===!0&&(e(f,j),e(y,O),e(y,d)),P.mathMl===!0&&(e(f,w),e(y,E),e(y,d))),t.ADD_TAGS&&(f===ot&&(f=c(f)),e(f,t.ADD_TAGS,b)),t.ADD_ATTR&&(y===tt&&(y=c(y)),e(y,t.ADD_ATTR,b)),t.ADD_URI_SAFE_ATTR&&e(Fe,t.ADD_URI_SAFE_ATTR,b),t.FORBID_CONTENTS&&(H===Ye&&(H=c(H)),e(H,t.FORBID_CONTENTS,b)),ze&&(f["#text"]=!0),N&&e(f,["html","head","body"]),f.table&&(e(f,["tbody"]),delete ae.tbody),n&&n(t),ie=t)},$e=e({},["mi","mo","mn","ms","mtext"]),ct=e({},["foreignobject","desc","title","annotation-xml"]),gt=e({},["title","style","font","a","script"]),be=e({},v),he;e(be,j),e(be,I),he=e({},w),e(he,V);var jt=function(e){t=Pe(e),(!t||!t.tagName)&&(t={namespaceURI:L,tagName:"template"});var t,n=h(e.tagName),s=h(t.tagName);return!!Ce[e.namespaceURI]&&(e.namespaceURI===ve?t.namespaceURI===F?n==="svg":t.namespaceURI===ge?n==="svg"&&(s==="annotation-xml"||$e[s]):Boolean(be[n]):e.namespaceURI===ge?t.namespaceURI===F?n==="math":t.namespaceURI===ve?n==="math"&&ct[s]:Boolean(he[n]):e.namespaceURI===F?!(t.namespaceURI===ve&&!ct[s]||t.namespaceURI===ge&&!$e[s])&&!he[n]&&(gt[n]||!be[n]):!!(D==="application/xhtml+xml"&&Ce[e.namespaceURI]))},R=function(e){l(s.removed,{element:e});try{e.parentNode.removeChild(e)}catch{try{e.outerHTML=Ne}catch{e.remove()}}},Ae=function(e,t){try{l(s.removed,{attribute:t.getAttributeNode(e),from:t})}catch{l(s.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is"&&!y[e])if(K||ue)try{R(t)}catch{}else try{t.setAttribute(e,"")}catch{}},Je=function(e){if(Re)e="<remove></remove>"+e;else{var t,n,s,o,i=U(e,/^[\r\n\t ]+/);s=i&&i[0]}if(D==="application/xhtml+xml"&&L===F&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>"),o=x?x.createHTML(e):e,L===F)try{t=(new kt).parseFromString(o,D)}catch{}if(!t||!t.documentElement){t=De.createDocument(L,"template",null);try{t.documentElement.innerHTML=Ee?Ne:o}catch{}}return n=t.body||t.documentElement,e&&s&&n.insertBefore(z.createTextNode(s),n.childNodes[0]||null),L===F?_t.call(t,N?"html":"body")[0]:N?t.documentElement:n},Xe=function(e){return wt.call(e.ownerDocument||e,e,Se.SHOW_ELEMENT|Se.SHOW_COMMENT|Se.SHOW_TEXT,null,!1)},xt=function(e){return e instanceof At&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof St)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},re=function(e){return r(ke)==="object"?e instanceof ke:e&&r(e)==="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},T=function(e,t,n){_[e]&&q(_[e],function(e){e.call(s,t,n,ie)})},He=function(e){if(T("beforeSanitizeElements",e,null),xt(e)||t(/[\u0080-\uFFFF]/,e.nodeName))return R(e),!0;if(n=b(e.nodeName),T("uponSanitizeElement",e,{tagName:n,allowedTags:f}),e.hasChildNodes()&&!re(e.firstElementChild)&&(!re(e.content)||!re(e.content.firstElementChild))&&t(/<[/\w]/g,e.innerHTML)&&t(/<[/\w]/g,e.textContent)||n==="select"&&t(/<template/i,e.innerHTML))return R(e),!0;if(!f[n]||ae[n]){if(!ae[n]&&Ke(n)&&(m.tagNameCheck instanceof RegExp&&t(m.tagNameCheck,n)||m.tagNameCheck instanceof Function&&m.tagNameCheck(n)))return!1;if(ze&&!H[n]){var n,o,i,d,c=Pe(e)||e.parentNode,r=Ot(e)||e.childNodes;if(r&&c)for(d=r.length,i=d-1;i>=0;--i)c.insertBefore(Et(r[i],!0),Ct(e))}return R(e),!0}return e instanceof et&&!jt(e)||(n==="noscript"||n==="noembed")&&t(/<\/no(script|embed)/i,e.innerHTML)?(R(e),!0):(W&&e.nodeType===3&&(o=e.textContent,o=a(o,xe," "),o=a(o,Oe," "),o=a(o,ye," "),e.textContent!==o&&(l(s.removed,{element:e.cloneNode()}),e.textContent=o)),T("afterSanitizeElements",e,null),!1)},Ue=function(e,n,s){if(Be&&(n==="id"||n==="name")&&(s in z||s in ut))return!1;if(!(Te&&!Me[n]&&t(bt,n))&&!(Qe&&t(vt,n)))if(!y[n]||Me[n]){if(!(Ke(e)&&(m.tagNameCheck instanceof RegExp&&t(m.tagNameCheck,e)||m.tagNameCheck instanceof Function&&m.tagNameCheck(e))&&(m.attributeNameCheck instanceof RegExp&&t(m.attributeNameCheck,n)||m.attributeNameCheck instanceof Function&&m.attributeNameCheck(n))||n==="is"&&m.allowCustomizedBuiltInElements&&(m.tagNameCheck instanceof RegExp&&t(m.tagNameCheck,s)||m.tagNameCheck instanceof Function&&m.tagNameCheck(s))))return!1}else if(!Fe[n]&&!t(je,a(s,it,""))&&!((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&$(s,"data:")===0&&Ge[e])&&!(We&&!t(pt,a(s,it,"")))&&s)return!1;return!0},Ke=function(e){return e.indexOf("-")>0},nt=function(e){if(T("beforeSanitizeAttributes",e,null),d=e.attributes,d){o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:y};for(u=d.length;u--;){l=d[u];var n,o,c,l,d,u,m,f=l,i=f.name,h=f.namespaceURI;if(n=i==="value"?l.value:B(l.value),c=b(i),o.attrName=c,o.attrValue=n,o.keepAttr=!0,o.forceKeepAttr=void 0,T("uponSanitizeAttribute",e,o),n=o.attrValue,!o.forceKeepAttr&&(Ae(i,e),!!o.keepAttr)){if(t(/\/>/i,n)){Ae(i,e);continue}if(W&&(n=a(n,xe," "),n=a(n,Oe," "),n=a(n,ye," ")),m=b(e.nodeName),Ue(m,c,n)){if(Ve&&(c==="id"||c==="name")&&(Ae(i,e),n=ft+n),x&&r(fe)==="object"&&typeof fe.getAttributeType=="function"&&!h)switch(fe.getAttributeType(m,c)){case"TrustedHTML":n=x.createHTML(n);break;case"TrustedScriptURL":n=x.createScriptURL(n);break}try{h?e.setAttributeNS(h,i,n):e.setAttribute(i,n),S(s.removed)}catch{}}}}T("afterSanitizeAttributes",e,null)}},Ft=function e(t){var n,s=Xe(t);for(T("beforeSanitizeShadowDOM",t,null);n=s.nextNode();)T("uponSanitizeShadowNode",n,null),!He(n)&&(n.content instanceof at&&e(n.content),nt(n));T("afterSanitizeShadowDOM",t,null)};return s.sanitize=function(e){var n,i,c,l,d,u,h,m,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ee=!e,Ee&&(e="<!-->"),typeof e!="string"&&!re(e)){if(typeof e.toString!="function")throw p("toString is not a function");if(e=e.toString(),typeof e!="string")throw p("dirty is not a string, aborting")}if(!s.isSupported){if(r(o.toStaticHTML)==="object"||typeof o.toStaticHTML=="function"){if(typeof e=="string")return o.toStaticHTML(e);if(re(e))return o.toStaticHTML(e.outerHTML)}return e}if(Le||we(g),s.removed=[],typeof e=="string"&&(ce=!1),ce){if(e.nodeName&&(h=b(e.nodeName),!f[h]||ae[h]))throw p("root node is forbidden and cannot be sanitized in-place")}else if(e instanceof ke)n=Je("<!---->"),l=n.ownerDocument.importNode(e,!0),l.nodeType===1&&l.nodeName==="BODY"||l.nodeName==="HTML"?n=l:n.appendChild(l);else{if(!K&&!W&&!N&&e.indexOf("<")===-1)return x&&pe?x.createHTML(e):e;if(n=Je(e),!n)return K?null:pe?Ne:""}n&&Re&&R(n.firstChild);for(m=Xe(ce?e:n);c=m.nextNode();)c.nodeType===3&&c===u||He(c)||(c.content instanceof at&&Ft(c.content),nt(c),u=c);if(u=null,ce)return e;if(K){if(ue)for(d=lt.call(n.ownerDocument);n.firstChild;)d.appendChild(n.firstChild);else d=n;return y.shadowroot&&(d=yt.call(_e,d,!0)),d}return i=N?n.outerHTML:n.innerHTML,N&&f["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&t(ne,n.ownerDocument.doctype.name)&&(i="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+i),W&&(i=a(i,xe," "),i=a(i,Oe," "),i=a(i,ye," ")),x&&pe?x.createHTML(i):i},s.setConfig=function(e){we(e),Le=!0},s.clearConfig=function(){ie=null,Le=!1},s.isValidAttribute=function(e,t,n){ie||we({});var s=b(e),o=b(t);return Ue(s,o,n)},s.addHook=function(e,t){typeof t=="function"&&(_[e]=_[e]||[],l(_[e],t))},s.removeHook=function(e){if(_[e])return S(_[e])},s.removeHooks=function(e){_[e]&&(_[e]=[])},s.removeAllHooks=function(){_={}},s}return T=M(),T})}),fe=N((e,t)=>{t.exports=window.DOMPurify||(window.DOMPurify=j().default||j())}),se={};Ce(se,{create:()=>R,insert:()=>Xe,insertBatch:()=>Ze,insertWithHooks:()=>E,load:()=>O,remove:()=>nt,save:()=>st,search:()=>ct});var t,o,c,h,m,f,g,b,y,x,D,P,U,K,q,Y,G,X,Q,Z,J,Ye={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},at={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},be="[^aeiou]",r="[aeiouy]",e=be+"[^aeiouy]*",s=r+"[aeiou]*",p="^("+e+")?"+s+e,ht="^("+e+")?"+s+e+"("+s+")?$",l="^("+e+")?"+s+e+s+e,w="^("+e+")?"+r,ee,te,ne,oe;function tt(t){let s,i,n,o,a,d;if(t.length<3)return t;let c=t.substring(0,1);if(c=="y"&&(t=c.toUpperCase()+t.substring(1)),n=/^(.+?)(ss|i)es$/,o=/^(.+?)([^s])s$/,n.test(t)?t=t.replace(n,"$1$2"):o.test(t)&&(t=t.replace(o,"$1$2")),n=/^(.+?)eed$/,o=/^(.+?)(ed|ing)$/,n.test(t)){let e=n.exec(t);n=new RegExp(p),n.test(e[1])&&(n=/.$/,t=t.replace(n,""))}else o.test(t)&&(s=o.exec(t)[1],o=new RegExp(w),o.test(s)&&(t=s,o=/(at|bl|iz)$/,a=new RegExp("([^aeiouylsz])\\1$"),d=new RegExp("^"+e+r+"[^aeiouwxy]$"),o.test(t)?t=t+"e":a.test(t)?(n=/.$/,t=t.replace(n,"")):d.test(t)&&(t=t+"e")));if(n=/^(.+?)y$/,n.test(t)&&(s=n.exec(t)?.[1],n=new RegExp(w),s&&n.test(s)&&(t=s+"i")),n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,n.test(t)){let e=n.exec(t);s=e?.[1],i=e?.[2],n=new RegExp(p),s&&n.test(s)&&(t=s+Ye[i])}if(n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,n.test(t)){let e=n.exec(t);s=e?.[1],i=e?.[2],n=new RegExp(p),s&&n.test(s)&&(t=s+at[i])}if(n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,o=/^(.+?)(s|t)(ion)$/,n.test(t))s=n.exec(t)?.[1],n=new RegExp(l),s&&n.test(s)&&(t=s);else if(o.test(t)){let e=o.exec(t);s=e?.[1]??""+e?.[2]??"",o=new RegExp(l),o.test(s)&&(t=s)}return n=/^(.+?)e$/,n.test(t)&&(s=n.exec(t)?.[1],n=new RegExp(l),o=new RegExp(ht),a=new RegExp("^"+e+r+"[^aeiouwxy]$"),s&&(n.test(s)||o.test(s)&&!a.test(s))&&(t=s)),n=/ll$/,o=new RegExp(l),n.test(t)&&o.test(t)&&(n=/.$/,t=t.replace(n,"")),c=="y"&&(t=c.toLowerCase()+t.substring(1)),t}x=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,null,78,79,79,79,79,79,79,79,85,85,85,85,null,null,null,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,null,110,111,111,111,111,111,111,111,117,117,117,117];function et(e){return e<192||e>252?e:x[e-192]||e}function Qe(e){let t=[];for(let n=0;n<e.length;n++)t[n]=et(e.charCodeAt(n));return String.fromCharCode(...t)}m=["arabic","armenian","dutch","english","french","greek","indonesian","italian","irish","indian","lithuanian","nepali","norwegian","portuguese","russian","spanish","swedish","german","finnish","danish","hungarian","romanian","serbian","turkish","ukrainian"];function A(e){return JSON.stringify(e,null,2)}function qe(e){return`Invalid schema type. Expected string or object, but got ${e}`}function Ue(e,t){return`Invalid document structure. 
Lyra has been initialized with the following schema: 

${A(e)}

but found the following doc:

${A(t)}`}function F(e,t){return`Invalid property name. Expected a wildcard string ("*") or array containing one of the following properties: ${t.join(", ")}, but got: ${e}`}function We(e,t,n){return`Unable to delete document "${e}" from index "${t}" on word "${n}".`}function He(e){return`Document with ID ${e} does not exists`}function ce(e){return`${e} works on edge only. Use edge: true in Lyra constructor to enable it.`}function Le(){return"Invalid hooks object"}function Ne(e){return`The following hooks aren't supported. Hooks: ${e}`}function De(e){return`"id" must be of type "string". Got "${e}" instead.`}function Ae(e){return`Document with ID "${e}" already exists.`}function we(e){return`Language "${e}" is not supported.
Supported languages are:
 - ${m.join(`
 - `)}`}function ye(){return"Custom stop words array must only contain strings."}function B(){return"Custom stop words must be a function or an array of strings."}function je(){return"tokenizer.stemmingFn property must be a function."}function re(){return"tokenizer.tokenizerFn must be a function."}function ge(){return"Boost value must be a number greater than, or less than 0."}U=["i","me","my","myself","we","us","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","will","would","shall","should","can","could","may","might","must","ought","i'm","you're","he's","she's","it's","we're","they're","i've","you've","we've","they've","i'd","you'd","he'd","she'd","we'd","they'd","i'll","you'll","he'll","she'll","we'll","they'll","isn't","aren't","wasn't","weren't","hasn't","haven't","hadn't","doesn't","don't","didn't","won't","wouldn't","shan't","shouldn't","can't","cannot","couldn't","mustn't","let's","that's","who's","what's","here's","there's","when's","where's","why's","how's","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very"],K=["ad","al","allo","ai","agli","all","agl","alla","alle","con","col","coi","da","dal","dallo","dai","dagli","dall","dagl","dalla","dalle","di","del","dello","dei","degli","dell","degl","della","delle","in","nel","nello","nei","negli","nell","negl","nella","nelle","su","sul","sullo","sui","sugli","sull","sugl","sulla","sulle","per","tra","contro","io","tu","lui","lei","noi","voi","loro","mio","mia","miei","mie","tuo","tua","tuoi","tue","suo","sua","suoi","sue","nostro","nostra","nostri","nostre","vostro","vostra","vostri","vostre","mi","ti","ci","vi","lo","la","li","le","gli","ne","il","un","uno","una","ma","ed","se","perch\xE9","anche","come","dov","dove","che","chi","cui","non","pi\xF9","quale","quanto","quanti","quanta","quante","quello","quelli","quella","quelle","questo","questi","questa","queste","si","tutto","tutti","a","c","e","i","l","o","ho","hai","ha","abbiamo","avete","hanno","abbia","abbiate","abbiano","avr\xF2","avrai","avr\xE0","avremo","avrete","avranno","avrei","avresti","avrebbe","avremmo","avreste","avrebbero","avevo","avevi","aveva","avevamo","avevate","avevano","ebbi","avesti","ebbe","avemmo","aveste","ebbero","avessi","avesse","avessimo","avessero","avendo","avuto","avuta","avuti","avute","sono","sei","\xE8","siamo","siete","sia","siate","siano","sar\xF2","sarai","sar\xE0","saremo","sarete","saranno","sarei","saresti","sarebbe","saremmo","sareste","sarebbero","ero","eri","era","eravamo","eravate","erano","fui","fosti","fu","fummo","foste","furono","fossi","fosse","fossimo","fossero","essendo","faccio","fai","facciamo","fanno","faccia","facciate","facciano","far\xF2","farai","far\xE0","faremo","farete","faranno","farei","faresti","farebbe","faremmo","fareste","farebbero","facevo","facevi","faceva","facevamo","facevate","facevano","feci","facesti","fece","facemmo","faceste","fecero","facessi","facesse","facessimo","facessero","facendo","sto","stai","sta","stiamo","stanno","stia","stiate","stiano","star\xF2","starai","star\xE0","staremo","starete","staranno","starei","staresti","starebbe","staremmo","stareste","starebbero","stavo","stavi","stava","stavamo","stavate","stavano","stetti","stesti","stette","stemmo","steste","stettero","stessi","stesse","stessimo","stessero","stando"],q=["au","aux","avec","ce","ces","dans","de","des","du","elle","en","et","eux","il","je","la","le","leur","lui","ma","mais","me","m\xEAme","mes","moi","mon","ne","nos","notre","nous","on","ou","par","pas","pour","qu","que","qui","sa","se","ses","son","sur","ta","te","tes","toi","ton","tu","un","une","vos","votre","vous","c","d","j","l","\xE0","m","n","s","t","y","","\xE9t\xE9","\xE9t\xE9e","\xE9t\xE9es","\xE9t\xE9s","\xE9tant","suis","es","est","sommes","\xEAtes","sont","serai","seras","sera","serons","serez","seront","serais","serait","serions","seriez","seraient","\xE9tais","\xE9tait","\xE9tions","\xE9tiez","\xE9taient","fus","fut","f\xFBmes","f\xFBtes","furent","sois","soit","soyons","soyez","soient","fusse","fusses","f\xFBt","fussions","fussiez","fussent","ayant","eu","eue","eues","eus","ai","as","avons","avez","ont","aurai","auras","aura","aurons","aurez","auront","aurais","aurait","aurions","auriez","auraient","avais","avait","avions","aviez","avaient","eut","e\xFBmes","e\xFBtes","eurent","aie","aies","ait","ayons","ayez","aient","eusse","eusses","e\xFBt","eussions","eussiez","eussent","ceci","cela","cel\xE0","cet","cette","ici","ils","les","leurs","quel","quels","quelle","quelles","sans","soi"],Y=["de","la","que","el","en","y","a","los","del","se","las","por","un","para","con","no","una","su","al","lo","como","m\xE1s","pero","sus","le","ya","o","este","s\xED","porque","esta","entre","cuando","muy","sin","sobre","tambi\xE9n","me","hasta","hay","donde","quien","desde","todo","nos","durante","todos","uno","les","ni","contra","otros","ese","eso","ante","ellos","e","esto","m\xED","antes","algunos","qu\xE9","unos","yo","otro","otras","otra","\xE9l","tanto","esa","estos","mucho","quienes","nada","muchos","cual","poco","ella","estar","estas","algunas","algo","nosotros","mi","mis","t\xFA","te","ti","tu","tus","ellas","nosotras","vosotros","vosotras","os","m\xEDo","m\xEDa","m\xEDos","m\xEDas","tuyo","tuya","tuyos","tuyas","suyo","suya","suyos","suyas","nuestro","nuestra","nuestros","nuestras","vuestro","vuestra","vuestros","vuestras","esos","esas","estoy","est\xE1s","est\xE1","estamos","est\xE1is","est\xE1n","est\xE9","est\xE9s","estemos","est\xE9is","est\xE9n","estar\xE9","estar\xE1s","estar\xE1","estaremos","estar\xE9is","estar\xE1n","estar\xEDa","estar\xEDas","estar\xEDamos","estar\xEDais","estar\xEDan","estaba","estabas","est\xE1bamos","estabais","estaban","estuve","estuviste","estuvo","estuvimos","estuvisteis","estuvieron","estuviera","estuvieras","estuvi\xE9ramos","estuvierais","estuvieran","estuviese","estuvieses","estuvi\xE9semos","estuvieseis","estuviesen","estando","estado","estada","estados","estadas","estad","he","has","ha","hemos","hab\xE9is","han","haya","hayas","hayamos","hay\xE1is","hayan","habr\xE9","habr\xE1s","habr\xE1","habremos","habr\xE9is","habr\xE1n","habr\xEDa","habr\xEDas","habr\xEDamos","habr\xEDais","habr\xEDan","hab\xEDa","hab\xEDas","hab\xEDamos","hab\xEDais","hab\xEDan","hube","hubiste","hubo","hubimos","hubisteis","hubieron","hubiera","hubieras","hubi\xE9ramos","hubierais","hubieran","hubiese","hubieses","hubi\xE9semos","hubieseis","hubiesen","habiendo","habido","habida","habidos","habidas","soy","eres","es","somos","sois","son","sea","seas","seamos","se\xE1is","sean","ser\xE9","ser\xE1s","ser\xE1","seremos","ser\xE9is","ser\xE1n","ser\xEDa","ser\xEDas","ser\xEDamos","ser\xEDais","ser\xEDan","era","eras","\xE9ramos","erais","eran","fui","fuiste","fue","fuimos","fuisteis","fueron","fuera","fueras","fu\xE9ramos","fuerais","fueran","fuese","fueses","fu\xE9semos","fueseis","fuesen","siendo","sido","tengo","tienes","tiene","tenemos","ten\xE9is","tienen","tenga","tengas","tengamos","teng\xE1is","tengan","tendr\xE9","tendr\xE1s","tendr\xE1","tendremos","tendr\xE9is","tendr\xE1n","tendr\xEDa","tendr\xEDas","tendr\xEDamos","tendr\xEDais","tendr\xEDan","ten\xEDa","ten\xEDas","ten\xEDamos","ten\xEDais","ten\xEDan","tuve","tuviste","tuvo","tuvimos","tuvisteis","tuvieron","tuviera","tuvieras","tuvi\xE9ramos","tuvierais","tuvieran","tuviese","tuvieses","tuvi\xE9semos","tuvieseis","tuviesen","teniendo","tenido","tenida","tenidos","tenidas","tened"],G=["de","a","o","que","e","do","da","em","um","para","com","n\xE3o","uma","os","no","se","na","por","mais","as","dos","como","mas","ao","ele","das","\xE0","seu","sua","ou","quando","muito","nos","j\xE1","eu","tamb\xE9m","s\xF3","pelo","pela","at\xE9","isso","ela","entre","depois","sem","mesmo","aos","seus","quem","nas","me","esse","eles","voc\xEA","essa","num","nem","suas","meu","\xE0s","minha","numa","pelos","elas","qual","n\xF3s","lhe","deles","essas","esses","pelas","este","dele","tu","te","voc\xEAs","vos","lhes","meus","minhas","teu","tua","teus","tuas","nosso","nossa","nossos","nossas","dela","delas","esta","estes","estas","aquele","aquela","aqueles","aquelas","isto","aquilo","estou","est\xE1","estamos","est\xE3o","estive","esteve","estivemos","estiveram","estava","est\xE1vamos","estavam","estivera","estiv\xE9ramos","esteja","estejamos","estejam","estivesse","estiv\xE9ssemos","estivessem","estiver","estivermos","estiverem","hei","h\xE1","havemos","h\xE3o","houve","houvemos","houveram","houvera","houv\xE9ramos","haja","hajamos","hajam","houvesse","houv\xE9ssemos","houvessem","houver","houvermos","houverem","houverei","houver\xE1","houveremos","houver\xE3o","houveria","houver\xEDamos","houveriam","sou","somos","s\xE3o","era","\xE9ramos","eram","fui","foi","fomos","foram","fora","f\xF4ramos","seja","sejamos","sejam","fosse","f\xF4ssemos","fossem","for","formos","forem","serei","ser\xE1","seremos","ser\xE3o","seria","ser\xEDamos","seriam","tenho","tem","temos","t\xE9m","tinha","t\xEDnhamos","tinham","tive","teve","tivemos","tiveram","tivera","tiv\xE9ramos","tenha","tenhamos","tenham","tivesse","tiv\xE9ssemos","tivessem","tiver","tivermos","tiverem","terei","ter\xE1","teremos","ter\xE3o","teria","ter\xEDamos","teriam"],X=["de","en","van","ik","te","dat","die","in","een","hij","het","niet","zijn","is","was","op","aan","met","als","voor","had","er","maar","om","hem","dan","zou","of","wat","mijn","men","dit","zo","door","over","ze","zich","bij","ook","tot","je","mij","uit","der","daar","haar","naar","heb","hoe","heeft","hebben","deze","u","want","nog","zal","me","zij","nu","ge","geen","omdat","iets","worden","toch","al","waren","veel","meer","doen","toen","moet","ben","zonder","kan","hun","dus","alles","onder","ja","eens","hier","wie","werd","altijd","doch","wordt","wezen","kunnen","ons","zelf","tegen","na","reeds","wil","kon","niets","uw","iemand","geweest","andere"],Q=["och","det","att","i","en","jag","hon","som","han","p\xE5","den","med","var","sig","f\xF6r","s\xE5","till","\xE4r","men","ett","om","hade","de","av","icke","mig","du","henne","d\xE5","sin","nu","har","inte","hans","honom","skulle","hennes","d\xE4r","min","man","ej","vid","kunde","n\xE5got","fr\xE5n","ut","n\xE4r","efter","upp","vi","dem","vara","vad","\xF6ver","\xE4n","dig","kan","sina","h\xE4r","ha","mot","alla","under","n\xE5gon","eller","allt","mycket","sedan","ju","denna","sj\xE4lv","detta","\xE5t","utan","varit","hur","ingen","mitt","ni","bli","blev","oss","din","dessa","n\xE5gra","deras","blir","mina","samma","vilken","er","s\xE5dan","v\xE5r","blivit","dess","inom","mellan","s\xE5dant","varf\xF6r","varje","vilka","ditt","vem","vilket","sitta","s\xE5dana","vart","dina","vars","v\xE5rt","v\xE5ra","ert","era","vilkas"],Z=["и","в","во","не","что","он","на","я","с","со","как","а","то","все","она","так","его","но","да","ты","к","у","же","вы","за","бы","по","только","ее","мне","было","вот","от","меня","еще","нет","о","из","ему","теперь","когда","даже","ну","вдруг","ли","если","уже","или","ни","быть","был","него","до","вас","нибудь","опять","уж","вам","сказал","ведь","там","потом","себя","ничего","ей","может","они","тут","где","есть","надо","ней","для","мы","тебя","их","чем","была","сам","чтоб","без","будто","человек","чего","раз","тоже","себе","под","жизнь","будет","ж","тогда","кто","этот","говорил","того","потому","этого","какой","совсем","ним","здесь","этом","один","почти","мой","тем","чтобы","нее","кажется","сейчас","были","куда","зачем","сказать","всех","никогда","сегодня","можно","при","наконец","два","об","другой","хоть","после","над","больше","тот","через","эти","нас","про","всего","них","какая","много","разве","сказала","три","эту","моя","впрочем","хорошо","свою","этой","перед","иногда","лучше","чуть","том","нельзя","такой","им","более","всегда","конечно","всю","между"],J=["og","i","jeg","det","at","en","et","den","til","er","som","p\xE5","de","med","han","av","ikke","ikkje","der","s\xE5","var","meg","seg","men","ett","har","om","vi","min","mitt","ha","hadde","hun","n\xE5","over","da","ved","fra","du","ut","sin","dem","oss","opp","man","kan","hans","hvor","eller","hva","skal","selv","sj\xF8l","her","alle","vil","bli","ble","blei","blitt","kunne","inn","n\xE5r","v\xE6re","kom","noen","noe","ville","dere","som","deres","kun","ja","etter","ned","skulle","denne","for","deg","si","sine","sitt","mot","\xE5","meget","hvorfor","dette","disse","uten","hvordan","ingen","din","ditt","blir","samme","hvilken","hvilke","s\xE5nn","inni","mellom","v\xE5r","hver","hvem","vors","hvis","b\xE5de","bare","enn","fordi","f\xF8r","mange","ogs\xE5","slik","v\xE6rt","v\xE6re","b\xE5e","begge","siden","dykk","dykkar","dei","deira","deires","deim","di","d\xE5","eg","ein","eit","eitt","elles","honom","hj\xE5","ho","hoe","henne","hennar","hennes","hoss","hossen","ikkje","ingi","inkje","korleis","korso","kva","kvar","kvarhelst","kven","kvi","kvifor","me","medan","mi","mine","mykje","no","nokon","noka","nokor","noko","nokre","si","sia","sidan","so","somt","somme","um","upp","vere","vore","verte","vort","varte","vart"],ee=["aber","alle","allem","allen","aller","alles","als","also","am","an","ander","andere","anderem","anderen","anderer","anderes","anderm","andern","anderr","anders","auch","auf","aus","bei","bin","bis","bist","da","damit","dann","der","den","des","dem","die","das","da\xDF","derselbe","derselben","denselben","desselben","demselben","dieselbe","dieselben","dasselbe","dazu","dein","deine","deinem","deinen","deiner","deines","denn","derer","dessen","dich","dir","du","dies","diese","diesem","diesen","dieser","dieses","doch","dort","durch","ein","eine","einem","einen","einer","eines","einig","einige","einigem","einigen","einiger","einiges","einmal","er","ihn","ihm","es","etwas","euer","eure","eurem","euren","eurer","eures","f\xFCr","gegen","gewesen","hab","habe","haben","hat","hatte","hatten","hier","hin","hinter","ich","mich","mir","ihr","ihre","ihrem","ihren","ihrer","ihres","euch","im","in","indem","ins","ist","jede","jedem","jeden","jeder","jedes","jene","jenem","jenen","jener","jenes","jetzt","kann","kein","keine","keinem","keinen","keiner","keines","k\xF6nnen","k\xF6nnte","machen","man","manche","manchem","manchen","mancher","manches","mein","meine","meinem","meinen","meiner","meines","mit","muss","musste","nach","nicht","nichts","noch","nun","nur","ob","oder","ohne","sehr","sein","seine","seinem","seinen","seiner","seines","selbst","sich","sie","ihnen","sind","so","solche","solchem","solchen","solcher","solches","soll","sollte","sondern","sonst","\xFCber","um","und","uns","unse","unsem","unsen","unser","unses","unter","viel","vom","von","vor","w\xE4hrend","war","waren","warst","was","weg","weil","weiter","welche","welchem","welchen","welcher","welches","wenn","werde","werden","wie","wieder","will","wir","wird","wirst","wo","wollen","wollte","w\xFCrde","w\xFCrden","zu","zum","zur","zwar","zwischen"],te=["og","i","jeg","det","at","en","den","til","er","som","p\xE5","de","med","han","af","for","ikke","der","var","mig","sig","men","et","har","om","vi","min","havde","ham","hun","nu","over","da","fra","du","ud","sin","dem","os","op","man","hans","hvor","eller","hvad","skal","selv","her","alle","vil","blev","kunne","ind","n\xE5r","v\xE6re","dog","noget","ville","jo","deres","efter","ned","skulle","denne","end","dette","mit","ogs\xE5","under","have","dig","anden","hende","mine","alt","meget","sit","sine","vor","mod","disse","hvis","din","nogle","hos","blive","mange","ad","bliver","hendes","v\xE6ret","thi","jer","s\xE5dan"],ne=["olla","olen","olet","on","olemme","olette","ovat","ole","oli","olisi","olisit","olisin","olisimme","olisitte","olisivat","olit","olin","olimme","olitte","olivat","ollut","olleet","en","et","ei","emme","ette","eiv\xE4t","min\xE4","minun","minut","minua","minussa","minusta","minuun","minulla","minulta","minulle","sin\xE4","sinun","sinut","sinua","sinussa","sinusta","sinuun","sinulla","sinulta","sinulle","h\xE4n","h\xE4nen","h\xE4net","h\xE4nt\xE4","h\xE4ness\xE4","h\xE4nest\xE4","h\xE4neen","h\xE4nell\xE4","h\xE4nelt\xE4","h\xE4nelle","me","meid\xE4n","meid\xE4t","meit\xE4","meiss\xE4","meist\xE4","meihin","meill\xE4","meilt\xE4","meille","te","teid\xE4n","teid\xE4t","teit\xE4","teiss\xE4","teist\xE4","teihin","teill\xE4","teilt\xE4","teille","he","heid\xE4n","heid\xE4t","heit\xE4","heiss\xE4","heist\xE4","heihin","heill\xE4","heilt\xE4","heille","t\xE4m\xE4","t\xE4m\xE4n","t\xE4t\xE4","t\xE4ss\xE4","t\xE4st\xE4","t\xE4h\xE4n","t\xE4ll\xE4","t\xE4lt\xE4","t\xE4lle","t\xE4n\xE4","t\xE4ksi","tuo","tuon","tuota","tuossa","tuosta","tuohon","tuolla","tuolta","tuolle","tuona","tuoksi","se","sen","sit\xE4","siin\xE4","siit\xE4","siihen","sill\xE4","silt\xE4","sille","sin\xE4","siksi","n\xE4m\xE4","n\xE4iden","n\xE4it\xE4","n\xE4iss\xE4","n\xE4ist\xE4","n\xE4ihin","n\xE4ill\xE4","n\xE4ilt\xE4","n\xE4ille","n\xE4in\xE4","n\xE4iksi","nuo","noiden","noita","noissa","noista","noihin","noilla","noilta","noille","noina","noiksi","ne","niiden","niit\xE4","niiss\xE4","niist\xE4","niihin","niill\xE4","niilt\xE4","niille","niin\xE4","niiksi","kuka","kenen","kenet","ket\xE4","keness\xE4","kenest\xE4","keneen","kenell\xE4","kenelt\xE4","kenelle","kenen\xE4","keneksi","ketk\xE4","keiden","ketk\xE4","keit\xE4","keiss\xE4","keist\xE4","keihin","keill\xE4","keilt\xE4","keille","kein\xE4","keiksi","mik\xE4","mink\xE4","mink\xE4","mit\xE4","miss\xE4","mist\xE4","mihin","mill\xE4","milt\xE4","mille","min\xE4","miksi","mitk\xE4","joka","jonka","jota","jossa","josta","johon","jolla","jolta","jolle","jona","joksi","jotka","joiden","joita","joissa","joista","joihin","joilla","joilta","joille","joina","joiksi","ett\xE4","ja","jos","koska","kuin","mutta","niin","sek\xE4","sill\xE4","tai","vaan","vai","vaikka","kanssa","mukaan","noin","poikki","yli","kun","niin","nyt","itse"],h={english:U,italian:K,french:q,spanish:Y,portuguese:G,dutch:X,swedish:Q,russian:Z,norwegian:J,german:ee,danish:te,finnish:ne},oe=Object.keys(h),b={dutch:/[^a-z0-9_'-]+/gim,english:/[^a-z0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^a-z0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim},o=new Map;function ue(e,t,n){let s=`${t}:${e}`;if(o.has(s))return o.get(s);if(n?.enableStopWords&&n.customStopWords.includes(e)){let e="";return o.set(s,e),e}return n?.enableStemming&&typeof n?.stemmingFn=="function"&&(e=n?.stemmingFn(e)),e=Qe(e),o.set(s,e),e}function Pe(e){for(;e[e.length-1]==="";)e.pop();for(;e[0]==="";)e.shift();return e}function le(e){if(!m.includes(e))throw new Error(we(e))}function de(e,t="english",n=!1,s=a(t)){if(typeof e!="string")return[e];let i=b[t],r=e.toLowerCase().split(i).map(e=>ue(e,t,s)).filter(Boolean),o=Pe(r);return n?o:Array.from(new Set(o))}function a(e,t={}){let s=[],n=[],o,i=de;if(t?.tokenizerFn){if(typeof t.tokenizerFn!="function")throw Error(re());i=t.tokenizerFn}else{if(t?.stemmingFn){if(typeof t.stemmingFn!="function")throw Error(je());o=t.stemmingFn}else o=tt;if(oe.includes(e)&&(s=h[e]??[]),t?.customStopWords)switch(typeof t.customStopWords){case"function":n=t.customStopWords(s);break;case"object":if(!Array.isArray(t.customStopWords))throw Error(B());if(n=t.customStopWords,n.some(e=>typeof e!="string"))throw Error(ye());break;default:throw Error(B())}}return{enableStopWords:t?.enableStopWords??!0,enableStemming:t?.enableStemming??!0,stemmingFn:o,customStopWords:n??s,tokenizerFn:i,assertSupportedLanguage:t.assertSupportedLanguage??le}}var he=Date.now().toString().slice(5),me=0,ae=BigInt(1e3),ie=BigInt(1e6),W=BigInt(1e9);function ve(e){return typeof e=="number"&&(e=BigInt(e)),e<ae?`${e}ns`:e<ie?`${e/ae}μs`:e<W?`${e/ie}ms`:`${e/W}s`}function $(){return typeof process<"u"&&process.hrtime!==void 0?process.hrtime.bigint():BigInt(typeof performance<"u"?Math.floor(performance.now()*1e6):0)}function V(){return`${he}-${me++}`}function I(e,t){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0:Object.hasOwn(e,t)?e[t]:void 0}function _e(e,t){return t[1]-e[1]}function H(e,t){return new Function("_","return _."+t)(e)}function i(e=!1,t="",n=""){let s={id:V(),key:n,subWord:t,parent:null,children:{},docs:[],end:e,word:""};return Object.defineProperty(s,"toJSON",{value:ke}),s}function n(e,t){e.parent=t.id,e.word=t.word+e.subWord}function u(e,t){e.docs.push(t)}function Ee(e,t){let n=e.docs.indexOf(t);return n!==-1&&(e.docs.splice(n,1),!0)}function ke(){let{word:e,subWord:t,children:n,docs:s,end:o}=this;return{word:e,subWord:t,children:n,docs:s,end:o}}P=["afterInsert"];function Se(e){if(e){if(typeof e!="object")throw new Error(Le());let t=Object.keys(e).filter(e=>!P.includes(e));if(t.length)throw new Error(Ne(t))}}async function Me(e,...n){let t=Array.isArray(e)?e:[e];for(let e=0;e<t.length;e++)await t[e].apply(this,n)}function Fe(e){if(e.length===0)return[];for(let t=1;t<e.length;t++)if(e[t].length<e[0].length){let n=e[0];e[0]=e[t],e[t]=n}let t=new Map;for(let n of e[0])t.set(n[0],[1,n[1]]);let n=e.length;for(let s=1;s<n;s++){let o=0;for(let n of e[s]){let i=n[0]??"",[a,r]=t.get(i)??[0,0];a===s&&(t.set(i,[a+1,r+n[1]]),o++)}if(o===0)return[]}let s=[];for(let[e,[o,i]]of t)o===n&&s.push([e,i]);return s}function Te(e,t){if(t===0)throw new Error(ge());let n={},s=e.length;for(let o=0;o<s;o++){let i=e[o],a=i.length;for(let e=0;e<a;e++){let[s,r]=i[e],o=r*t;s in n?n[s]*=1.5+o:n[s]=o}}return Object.entries(n).sort((e,t)=>t[1]-e[1])}function ze(e,t,n,s,o,i){let{k:a,b:r,d:c}=i;return Math.log(1+(n-t+.5)/(t+.5))*(c+e*(a+1))/(e+a*(1-r+r*s/o))}async function R(e){var t,n,s,o,i;let r=(e==null||(t=e.defaultLanguage)===null||t===void 0?void 0:t.toLowerCase())??"english",c=a(r,((n=e.components)===null||n===void 0?void 0:n.tokenizer)??{});c.assertSupportedLanguage(r),Se(e.hooks);let l={defaultLanguage:r,schema:e.schema,docs:{},docsCount:0,index:{},hooks:e.hooks||{},edge:e.edge??!1,frequencies:{},tokenOccurrencies:{},avgFieldLength:{},fieldLengths:{},components:{elapsed:((s=e.components)===null||s===void 0?void 0:s.elapsed)??{},tokenizer:c,algorithms:{intersectTokenScores:((o=e.components)===null||o===void 0||(i=o.algorithms)===null||i===void 0?void 0:i.intersectTokenScores)??Fe}}};return L(l,e.schema),l}function L(e,t,n=""){for(let s of Object.keys(t)){let a=typeof s,r=typeof t[s]=="object";if(a!=="string")throw new Error(qe(a));let o=`${n}${s}`;r?L(e,t[s],`${o}.`):(e.index[o]=i(),e.avgFieldLength[o]=0)}}t=Symbol("lyra.insertions"),D=((f=globalThis.process)===null||f===void 0?void 0:f.emitWarning)??function(e,t){console.warn(`[WARNING] [${t.code}] ${e}`)};function z(e){let n=e;typeof n[t]!="number"&&(queueMicrotask(()=>{n[t]=void 0}),n[t]=0),n[t]>1e3?(D("Lyra's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread.",{code:"LYRA0001"}),n[t]=-1):n[t]>=0&&n[t]++}function Ie(e,t,n){let s=Be(e,t,n);return{distance:s,isBounded:s>=0}}function Be(e,t,n){if(e===t)return 0;let j=e;e.length>t.length&&(e=t,t=j);let a=e.length,o=t.length;for(;a>0&&e.charCodeAt(~-a)===t.charCodeAt(~-o);)a--,o--;if(!a)return o>n?-1:o;let r=0;for(;r<a&&e.charCodeAt(r)===t.charCodeAt(r);)r++;if(a-=r,o-=r,a===0)return o>n?-1:o;let u=o-a;if(n>o)n=o;else if(u>n)return-1;let s=0,l=[],m=[];for(;s<n;)m[s]=t.charCodeAt(r+s),l[s]=++s;for(;s<o;)m[s]=t.charCodeAt(r+s),l[s++]=n+1;let b=n-u,v=n<o,p=0,h=n,i=0,d=0,f=0,g=0,c=0;for(s=0;s<a;s++){for(d=s,i=s+1,g=e.charCodeAt(r+s),p+=s>b?1:0,h+=h<o?1:0,c=p;c<h;c++)f=i,i=d,d=l[c],g!==m[c]&&(d<i&&(i=d),f<i&&(i=f),i++),l[c]=i;if(v&&l[s+u]>n)return-1}return i<=n?i:-1}function Ve(e,t,s){for(let r=0;r<t.length;r++){let o=t[r],a=t.substring(r),c=e.children[o];if(o in e.children){let d=c.subWord,m=d.length,f=M(d,a),l=f.length,h=d[l];if(d===a){u(c,s),c.end=!0;return}if(l<m&&l===a.length){let t=i(!0,a,o);t.children[h]=c;let s=t.children[h];s.subWord=d.substring(l),s.key=h,e.children[o]=t,n(t,e),n(s,t);return}if(l<m&&l<a.length){let m=i(!1,f,o);m.children[h]=c,e.children[o]=m;let p=m.children[h];p.subWord=d.substring(l),p.key=h;let v=a[l],g=i(!0,t.substring(r+l),v);u(g,s),m.children[v]=g,n(m,e),n(g,m),n(p,m);return}r+=m-1,e=c}else{let t=i(!0,a,o);u(t,s),e.children[o]=t,n(t,e);return}}}function $e(e,{term:t,exact:n,tolerance:s}){for(let n=0;n<t.length;n++){let o=t[n];if(o in e.children){let i=e.children[o],a=i.subWord,r=t.substring(n),c=M(a,r).length;if(c!==a.length&&c!==r.length){if(s)break;return{}}n+=i.subWord.length-1,e=i}else return{}}let o={};return T(e,o,t,n,s),o}function T(e,t,n,s,o){if(e.end){let{word:i,docs:a}=e;if(s&&i!==n)return{};if(I(t,i)||(o?Math.abs(n.length-i.length)<=o&&Ie(n,i,o).isBounded&&(t[i]=[]):t[i]=[]),I(t,i)&&a.length){let e=new Set(t[i]),n=a.length;for(let t=0;t<n;t++)e.add(a[t]);t[i]=Array.from(e)}}for(let i of Object.keys(e.children))T(e.children[i],t,n,s,o);return t}function M(e,t){let n="",s=Math.min(e.length,t.length);for(let o=0;o<s;o++){if(e[o]!==t[o])return n;n+=e[o]}return n}function Ke(e,t,n,s=!0){if(!t)return!0;for(let o=0;o<t.length;o++){let i=t[o];if(i in e.children){let a=e.children[i];if(o+=a.subWord.length-1,e=a,s&&e.word!==t)continue;Ee(e,n)}else return!1}return!0}function S(e,t){if(!k(e,t))throw new Error(Ue(t,e))}function k(e,t){for(let n in e){if(!(n in t))continue;if(typeof e[n]=="object")k(e[n],t);else if(typeof e[n]!==t[n])return!1}return!0}function Ge(e,t){let n=Object.keys(e.index);if(!t)return n;if(typeof t=="string"){if(t!=="*")throw new Error(F(t,n));return n}for(let e of t)if(!n.includes(e))throw new Error(F(e,n));return t}async function Xe(e,t,n){var o,i,a,r;n={language:e.defaultLanguage,...n};let s=await C(t,n);if(e.docs[s])throw new Error(Ae(s));return(i=e.components)===null||i===void 0||(o=i.tokenizer)===null||o===void 0||(a=o.assertSupportedLanguage)===null||a===void 0||a.call(o,n.language),S(t,e.schema),e.docs[s]=t,e.docsCount++,d(e,t,s,n,void 0,(r=e.components)===null||r===void 0?void 0:r.tokenizer),z(e),{id:s}}async function E(e,t,n){var s,i,a,r;n={language:e.defaultLanguage,...n};let o=await C(t,n);return(i=e.components)===null||i===void 0||(s=i.tokenizer)===null||s===void 0||(a=s.assertSupportedLanguage)===null||a===void 0||a.call(s,n.language),S(t,e.schema),e.docs[o]=t,e.docsCount++,d(e,t,o,n,void 0,(r=e.components)===null||r===void 0?void 0:r.tokenizer),z(e),e.hooks.afterInsert&&await Me.call(e,e.hooks.afterInsert,o),{id:o}}async function Ze(e,t,n){let s=n?.batchSize??1e3;return new Promise((o,i)=>{let a=0;async function r(){let c=t.slice(a*s,(a+1)*s);if(a++,!c.length)return o();for(let t of c)try{await E(e,t,n)}catch(e){i(e)}setTimeout(r,0)}setTimeout(r,0)})}function d(e,t,n,s,o="",i,a=e.schema){s={language:e.defaultLanguage,...s};let{index:l,frequencies:c,tokenOccurrencies:r}=e;for(let h of Object.keys(t)){let f=typeof t[h]=="object",m=typeof a[h]=="object",u=`${o}${h}`;if(f&&h in a&&m&&d(e,t[h],n,s,u+".",i,a[h]),typeof t[h]=="string"&&h in a&&!m){let a=l[u],o=i.tokenizerFn(t[h],s.language,!1,i);u in c||(c[u]={}),u in r||(r[u]={}),n in c[u]||(c[u][n]={}),u in e.fieldLengths||(e.fieldLengths[u]={}),e.fieldLengths[u][n]=o.length,e.avgFieldLength[u]=((e.avgFieldLength[u]??0)*(e.docsCount-1)+o.length)/e.docsCount;for(let e of o){let t=0;for(let n of o)n===e&&t++;let s=t/o.length;c[u][n][e]=s,e in r[u]||(r[u][e]=0),r[u][e]=(r[u][e]??0)+1,Ve(a,e,n)}}}}async function C(e,t){let n;if(t?.id)n=await t.id(e);else if(e.id&&typeof e.id=="string")n=e.id;else{if(e.id&&typeof e.id!="string")throw new TypeError(De(typeof e.id));n=V()}return n}async function O(e,{index:t,docs:n,schema:s,frequencies:o,tokenOccurrencies:i,defaultLanguage:a,fieldLengths:r,avgFieldLength:c}){if(!e.edge)throw new Error(ce("load"));e.index=t,e.docs=n,e.docsCount=Object.keys(n).length,e.schema=s,e.frequencies=o,e.tokenOccurrencies=i,e.defaultLanguage=a,e.fieldLengths=r,e.avgFieldLength=c}async function nt(e,t){var n;if((n=e.components)!==null&&n!==void 0&&n.tokenizer||(e.components={...e.components??{},tokenizer:a(e.defaultLanguage)}),!(t in e.docs))throw new Error(He(t));let s=e.docs[t]||{},o=Object.keys(s||{}),i=o.length;for(let a=0;a<i;a++){let n=o[a];if(e.schema[n]==="string"){let i=e.index[n],o=e.components.tokenizer.tokenizerFn(s[n],e.defaultLanguage,!1,e.components.tokenizer);e.avgFieldLength[n]=(e.avgFieldLength[n]*e.docsCount-e.fieldLengths[n][t])/(e.docsCount-1),delete e.fieldLengths[n][t];let a=o.length;for(let r=0;r<a;r++){let s=o[r];if(delete e.frequencies[n][t],e.tokenOccurrencies[n][s]--,s&&!Ke(i,s,t))throw new Error(We(t,n,s))}}}return e.docs[t]=void 0,e.docsCount--,!0}async function st(e){return{index:e.index,docs:e.docs,schema:e.schema,frequencies:e.frequencies,tokenOccurrencies:e.tokenOccurrencies,defaultLanguage:e.defaultLanguage,avgFieldLength:e.avgFieldLength,fieldLengths:e.fieldLengths}}function ot(e,t,n,s){let o={},a=n.map(([e])=>e).map(e=>t[e]),i=Object.keys(s);for(let t of i){let a=_(e,t),n={};if(a==="number"){let{ranges:o}=s[t],e=[];for(let t of o)e.push([`${t.from}-${t.to}`,0]);n=Object.fromEntries(e)}o[t]={count:0,values:n}}let r=a.length;for(let e=0;e<r;e++){let t=a[e];for(let e of i){let n=e.includes(".")?H(t,e):t[e];if(typeof n=="string")o[e].values[n]===void 0?o[e].values[n]=1:o[e].values[n]++;else if(typeof n=="boolean")o[e].values[n.toString()]===void 0?o[e].values[n.toString()]=1:o[e].values[n.toString()]++;else if(typeof n=="number")for(let t of s[e].ranges)n>=t.from&&n<=t.to&&(o[e].values[`${t.from}-${t.to}`]===void 0?o[e].values[`${t.from}-${t.to}`]=1:o[e].values[`${t.from}-${t.to}`]++)}}for(let t of i){let n=_(e,t);o[t].count=Object.keys(o[t].values).length,n==="string"&&(o[t].values=Object.fromEntries(Object.entries(o[t].values).sort((e,n)=>rt(s[t].sort,e,n)).slice(s[t].offset??0,s[t].limit??10)))}return o}c=new Map;function _(e,t){if(c.has(t))return c.get(t);let n=H(e,t);return c.set(t,n),n}function rt(e="desc",t,n){return e.toLowerCase()==="asc"?t[1]-n[1]:n[1]-t[1]}async function ct(e,t,n){var o,i,c,d;n||(n=e.defaultLanguage),(d=e.components)!==null&&d!==void 0&&d.tokenizer||(e.components={...e.components??{},tokenizer:a(n)}),t.relevance=ut(t.relevance);let y=t.facets&&Object.keys(t.facets).length>0,{limit:j=10,offset:f=0,exact:k=!1,term:_,properties:E}=t,h=e.components.tokenizer.tokenizerFn(_,n,!1,e.components.tokenizer),m=Ge(e,E),v=Array.from({length:j}),x=e.docsCount,O=$(),s={},l={},r={};for(let e of m){let t={};for(let e of h)t[e]=[];l[e]=t,r[e]=[]}let w=m.length;for(let o=0;o<w;o++){let n=m[o],f=e.avgFieldLength[n],p=e.fieldLengths[n];if(!(n in e.tokenOccurrencies))continue;let a=e.tokenOccurrencies[n],d=e.frequencies[n],g=h.length;for(let o=0;o<g;o++){let s=h[o],r=lt(e,{...t,index:n,term:s,exact:k}),u=typeof a[s]=="number"?a[s]??0:0,c=[],m=r.length;for(let e=0;e<m;e++){let n=r[e],o=(d==null||(i=d[n])===null||i===void 0?void 0:i[s])??0,a=ze(o,u,x,p[n],f,t.relevance);c.push([n,a])}l[n][s].push(...c)}let v=l[n],b=Object.values(v);r[n]=Te(b,(t==null||(c=t.boost)===null||c===void 0?void 0:c[n])??1);let u=r[n],j=u.length;for(let e=0;e<j;e++){let[t,n]=u[e],o=s[t];o?s[t]=o+n+.5:s[t]=n}}let g=Object.entries(s).sort(_e),p=new Set,C=y?ot(e.schema,e.docs,g,t.facets):{};for(let t=f;t<j+f;t++){let s=g[t];if(typeof s>"u")break;let[n,o]=s;if(!p.has(n)){let s=e.docs[n];v[t]={id:n,score:o,document:s},p.add(n)}}let u=$()-O;((o=e.components.elapsed)===null||o===void 0?void 0:o.format)==="human"&&(u=ve(u));let b={elapsed:u,hits:v.filter(Boolean),count:Object.keys(s).length};return y&&(b.facets=C),b}function lt(e,t){let o=e.index[t.index],n=$e(o,{term:t.term,exact:t.exact,tolerance:t.tolerance}),s=new Set;for(let e in n)for(let t of n[e])s.add(t);return Array.from(s)}g={k:1.2,b:.75,d:.5};function ut(e=g){return Object.assign({},g,e)}y=Oe(fe());function mt(){return{lyra:se,fetchDb:async function(e,t=!0){let s="caches"in self&&typeof caches<"u"&&t,i=new Request(e),n,o=!1;if(s){n=await caches.match(e);let t=`Cache %not found with key: ${e}`;n&&(o=!0);let s=n?t.replace("%not ",""):t.replace("%","");console.log(s)}if(n||(n=await fetch(i)),!n.ok)throw new Error(`Error fetching index on: ${e}`);let a=await n.clone().text(),r=await this.restore(a);return s&&!o&&(console.log(`Saving cache with key: ${e}`),await(await caches.open(e)).put(e,n)),r},search:async function(e,t,n=!0){let s={...t};return n&&(s.term=y.default.sanitize(t.term)),{search:await this.lyra.search(e,t),options:s}},restore:async function(e){let t=await R({edge:!0,schema:{__placeholder:"string"}}),n=JSON.parse(e.toString());return await O(t,n),t}}}typeof window<"u"&&(window.HugoLyra=mt())})()