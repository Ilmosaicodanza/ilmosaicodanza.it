import{create,search,insertMultiple}from"https://cdn.jsdelivr.net/npm/@orama/orama@3.1.6/dist/commonjs/index.min.js";let showSpinner,hideSpinner;const heading=document.getElementsByClassName("lh-copy")[0];heading&&heading.scrollIntoView();const performSearch=async(e,t)=>{const n=await search(e,{term:t,properties:"*"});document.getElementById("search-results").innerHTML=n.hits.map((e=>`<li><a href="${e.document.url}" class="list-group-item list-group-item-action">${e.document.title}</a></li>`)).join(""),hideSpinner()},init=async()=>{showSpinner=()=>{document.getElementById("loading-overlay").style.display="block"},hideSpinner=()=>{const e=document.getElementById("loading-overlay"),t=document.getElementById("kittLoader"),n=document.getElementById("search-input"),a=document.getElementsByClassName("cf")[0];e.style.display=t.style.display="none",n.placeholder="Scrivi qui per cercare",a.style.display="block"},showSpinner();const e=await create({schema:{title:"string",content:"string",url:"string"},defaultLanguage:"italian"}),t=await fetch("/index.json"),n=await t.json();await insertMultiple(e,n),hideSpinner();const a=new URLSearchParams(window.location.search).get("q"),i=document.getElementById("search-input");i.addEventListener("input",(async t=>{const n=t.target.value;await performSearch(e,n)})),a&&(showSpinner(),i.value=decodeURIComponent(a),await performSearch(e,a))};init();